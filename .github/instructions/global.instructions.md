---
applyTo: '**'
---

## 資料作成の全体方針（シンプルさ・焦点化）

教材・資料の本文は、できるだけ不要な説明や情報を省き、「学習させたい内容」に絞ってシンプルに記述してください。

- 伝えたいことだけにフォーカスし、余計な背景や発展的な話題は盛り込まない。
- ただし、初学者でも理解できるよう、平易な表現を用いること。
- それだけでは初学者にとって理解が難しい場合は、サンプルコードや具体例、短い補足説明を適宜加えて補うこと。

この方針は、本文・演習・解説・サンプルコードのいずれにも適用します。

## console.log の使用方法

学習者向け教材では、未指導内容を避けるため `console.log` には常に「引数は 1 つだけ」を渡すこと。

許可される例:
```js
console.log("sum: " + sum);
console.log(array.join(","));
```

避ける例:
```js
console.log("sum:", sum);
console.log("x", x, y);
```

複数値を表示したい場合は文字列連結で 1 つの文字列にまとめること。

## 文字列の書き方ルール（テンプレートリテラル禁止）

学習段階を揃えるため、バッククォート (`` ` ``) を使ったテンプレートリテラルは使用禁止。すべて通常の文字列（"...") と `+` で連結して表現すること。

理由:
- テンプレートリテラルを導入していない段階で混在すると学習負荷が上がる
- `+` による連結をまず確実に理解してもらうため

例（禁止 → 許可）:
```js
// NG
// console.log(`Hello ${name}! score=${score}`);

// OK
console.log("Hello " + name + "! score=" + score);
```

複数行文字列が必要な場合も、現段階では `"line1\nline2"` のように改行コードを使って表現すること。

## 改行コード `\n` の扱い

現段階では学習範囲に含めないため、教材本文・解答コードともに原則 `"...\n..."` のような文字列リテラル内での改行コード使用は避ける。複数行を説明したい場合は:

- 実際の複数行として分けて記述する（例: `console.log("A");` の次の行で `console.log("B");`）。
- どうしても 1 つの文字列内で改行を示す必要がある教材解説が出た場合のみ、指導方針の確認を取ってから `\\n` を導入する。

（既存ファイルに `\\n` が混入した場合は削除・分割出力へ修正すること）

## 識別子・表示文字列の語彙レベル方針（初学者向け）

対象: 日本の小・中学生。英単語は「日常でカタカナでもよく目にする / なんとなく意味が推測できる」レベルに限定する。

基本ルール:
- 使ってよい英単語（例）: name, age, score, point, time, count, item, card, game, start, end, ok, error
- それ以外で迷ったらローマ字 (kazu, goukei, kotae, namae, kari など) を使う。
- 数学寄り・抽象的・専門寄りの英単語や省略形は避ける: sum, total, temp, num, val, config, aggregate, initialize など。
- どうしても意味を付けたいときはコメントで日本語補足。
- 出力文字列も短く: "score: 30", "ok", "error" など。長文説明は本文やコメントへ。
- 同じ意味で単語を混在させない (例: score と point を同一画面で両方使わない)。

非推奨 → 推奨例（置き換え目安）:
- num → number / kazu
- sum → goukei / count の加算結果なら total を避け goukei、または単に result
- temp → kari / work など用途が分かる語
- list → items / array
- val → value / kotae
- total → goukei (英語 total は避け、ローマ字で統一感)

避ける例:
```js
let configurationData = {};
function aggregateValues(initialArray) { /* ... */ }
console.log("Calculation Result Value is: " + value);
```

許可例:
```js
let data = {};
function addAll(items) { /* ... */ }
console.log("合計点: " + value);
```

指示・修正提案時もこの方針に沿うこと。必要に応じて不明語はローマ字へ置換する。

### 変数名の長さと命名ルール（必須）

短すぎる識別子は初学者の可読性を下げます。常に以下を守ってください。

- 原則として1文字の変数名は使わない（例: `a`, `b` は避ける）。
- 例外: ループカウンタなど慣習的に1文字が用いられる箇所（`i`, `j`）のみ許可する。
- 代わりに意味のある短い名を使う: `fruits`, `colors`, `score`, `count`, `items`。
- 同一ファイル内で同じ意味の変数名を繰り返し使うこと。意味が同じで異なる名前は避ける。

例:
```js
// 良い例
let fruits = ["りんご", "みかん"];

// 悪い例
let a = ["りんご", "みかん"]; // 誰が見ても意味が分かりにくい
```

## 出力メッセージの言語方針

基本的に説明的な文章・ラベルは日本語で出力する。以下を基準とする。

- メソッド名や識別子を示したい最小部分 (例: "push", "pop", "score") はそのまま英字可。
- それ以外の説明文・ラベル ("sorted", "drinks avg", "result" など) は日本語へ: 例 "並び替え", "飲料平均", "結果"。
- コロン付きラベルは短く: "合計: ", "平均: ", "位置: " など。
- 英単語だけの出力より、日本語 + 必要最小の英語 (例: "pop 取り出し: A B,C") の方が理解しやすい場合は日本語を優先。
- 教材中でまだ紹介していない英語ラベルは使わない。

例（変更前 → 変更後）:
```js
console.log("sum: " + goukei);      // → console.log("合計: " + goukei);
console.log("sorted: " + items);   // → console.log("並び替え: " + items);
console.log("drinks avg: " + avg); // → console.log("飲料平均: " + avg);
```

既存コード修正時は、英語ラベルを日本語へ段階的に統一すること。

## 変数宣言ポリシー

現段階では `const` を未導入とするため、教材・解答コードではすべて `let` を用いる。再代入しない意図があっても `const` は使わない。

## 学習中テーマ（API / メソッド）の視認性ルール

学習中に焦点を当てるメソッド・構文は本文に埋もれないよう、次の形式で記述する。

- メソッドごとに「見出し（例: ### push）」＋「使い方コード」＋「1行コメント（効果）」をセットで提示する。
- コードブロック内に見出し内容（// push など）は重複して書かない。
- 余計な背景説明は段落として後ろに分離。
- 複数メソッドを並べる場合も 1 メソッド 1 ブロック。
- 戻り値や裏事情は書かず、動作説明のみ簡潔にコメントする。

推奨フォーマット例:
### push（末尾に追加）
```
array.push(値1, 値2);
// 末尾に値を追加する。
```

既存文書をリファクタする際はこの形式へ徐々に統一する。

## コード例の可読性ルール

教材・解答・サンプルコードには必ず適切なコメントや空行を入れ、読みやすさを最優先すること。

- 1つの処理ごとに空行で区切る。
- 何をしているか分かるよう日本語コメントを添える。
- コメントは「何の操作か」「何が出力されるか」など、初学者が迷わない内容にする。
- どんな短い例でも必ずコメント・空行を入れる。

追加ルール（例の分割と期待出力）:

- 1 つのサンプルプログラムには「1 トピック（メソッド）」だけを示すこと。複数の学習項目を 1 つのプログラムにまとめないでください（例: push と pop を同一サンプルに混在させない）。
- `console.log` を使って出力を示す箇所には、期待される出力をコメントで明示すること（例: // "バナナ" や // ["りんご","みかん"] のように）。

### 期待出力コメントの形式（必須）

例や解答で見せるプログラム内で出力している箇所について、期待される出力をコメントで示して下さい。そのコメントは自動チェックやレビューツールで拾いやすいように厳密な書式を採用します。必ず次の形式を使ってください。

- コメント先頭に必ず日本語のラベル `出力:` を使う（コロンの後に半角スペース）。
- 配列や文字列などは実際に `console.log` に表示される形で記述する（配列は `["りんご","みかん"]`、文字列は `"りんご"`）。
- コメントは `console.log` の直後に置くことが望ましい。

例:
```js
console.log(fruits); // 出力: ["りんご","みかん"]
console.log(lastFruit); // 出力: "バナナ"
```

（このフォーマットを守ることで、一貫した自動検証やレビューパターンが作りやすくなります）

### サンプルの長さと分割（必須）

学習用サンプルは短く、1 トピックあたり概ね 10 行以内に収めることを目安とします。（そのトピックのみを集中的に簡単に理解できるよう、とにかく短く）（短ければ短いほど良い）。長くなる場合は複数の小さなサンプルに分割してください。

- 1 サンプル = 1 トピック（再掲）
- 各サンプルは読みやすく、重要な操作ごとに空行を入れる

理由: 長いサンプルは初学者の注意をそらし、学習効果を下げます。分割は理解を助けます。

### 文法・記法の一貫性（必須）

教材中のコードは一貫した書式で書いてください。現状の方針に沿い、以下をルール化します。

- 行末にセミコロン `;` を必ずつける。
- コードブロックには必ず言語指定を行う（例: ```js）

これにより表示やハイライトの差異を減らし、学習者に安定した体験を提供します。

### 実行可能性の検証（推奨だが可能なら必須）

教材に載せるコード例は、構文エラーや簡単な参照エラーがないことを確認してください。可能であれば編集時にローカルで一度実行して動作を検証してください。

- 小さな検証手順: 例をエディタに貼り付け、Node.js（または対象環境）で実行し、出力コメントと一致するかを目視で確認する。自動化できる場合はテストスクリプトの整備を検討する。

理由: 学習者がサンプルをコピペして実行したときにすぐ動かないと学習の障壁になります。

## ルール更新の運用方針

新たな要件・方針・指示が出た場合は、必ずこのルールファイルも同時に更新すること。
（教材修正時はルールも常に最新化する）

また、教材や既存ドキュメントを読んで運用上の改善点や欠落を見つけた場合は、
「指示を待たずに」自発的にこのルールファイルへ反映してください。
この運用により、ルールと教材の整合性を継続的に保ちます。

## 学習導入での事例紹介（モチベーション喚起）

学習を始める前に「今日の学習はこういうところで使うよ」といった短い実用例を入れて、学習者の動機付けを行ってください。

- どこに入れるか: 各学習テーマのまとまり（例: 配列メソッドの章、CSSの基礎パート、HTMLの要素パート）ごとに、章冒頭に1回だけ入れます。細かい小節ごとに毎回入れる必要はありません。
- 内容の要件: 1〜2文の短い説明で十分です。可能なら「どのウェブサイトのどの部分で使うか」を具体的に示してください（例: オンラインストアのカートで商品を追加/削除する場面、画像ギャラリーの並べ替え）。
- 形式のガイドライン:
	- 日本語で簡潔に書くこと。
		- 実際の URL を貼る場合の注意: 教育的で公共にアクセス可能なサイト（例: 教材サイトやオープンソースのデモストア、W3Schools のチュートリアルなど）を優先してください。商用サイトの個人情報が表示されるページや認証を必要とするページへはリンクしないこと。
		- 実際のサイトを示したい場合、URL と併せてサイト名と該当箇所（例「商品一覧のカートボタン」）を短く示してください。スクリーンショットを使う場合は個人情報や権利に配慮し、必要に応じてぼかしやモック画像を使ってください。
		- 事例は複数である必要はなく、代表的な実例が 1 つあれば充分です。見つからなければ 1 つだけ掲載してください。
	- 教材の本文と分離して、見出し（例: "今日の学習はこんなところで使うよ"）を付けてください。
	- 事例は学習する機能と直接結び付けて説明してください（例: "push はカートに商品を追加する時に使います"）。
- 授業用途メモ: 実際のスクリーンショットを使う場合は個人情報や権利に配慮し、必要に応じてぼかしやモック画像を使ってください。

このセクションは学習者の理解と動機付けを優先した補助要素です。冗長にならないよう短く、かつ具体的な例を入れることを優先してください。

## 資料追加・演習配置・既知知識の範囲に関する方針

- 資料を追加する際は、既に資料に記載のある内容のみ既知とし、それ以外は未習得とみなして記述・出題・解説を行うこと。
- 学習の進行順は `sidebars.ts` の順番に従うものとする。

### 演習・演習-発展の配置方針
- 各トピックごとに必ず「演習」と「演習-発展」をこまめに配置し、学習直後に実践できるようにすること。
- 「演習」は初学者が最低限知っておくべき内容までを目安とし、必要に応じて複数配置してよい。
- 「演習-発展」はより高いレベルの内容とし、全体を通して後半ほど難易度を上げること。発展問題は複数配置してもよい。
- 本質的に同じ内容の演習を繰り返さず、多角的な出題を心がけること。

### 演習問題の内容方針
- そのトピックの学習を助けるために関係のない不要な要素を問題文に含めないこと。

### 演習作成時の既習事項確認と重複回避（必須）

演習・演習-発展を作成する際は、必ず以下の手順を踏むこと：

1. **既習事項の確認**: 
   - `sidebars.ts` の順序に基づき、現在のページより前に配置されている内容のみを既習とみなす。
   - 現在のページ内で既に説明済みの内容も既習に含める。
   - 未習の API や構文等、未習のものはすべて使用禁止。

2. **既出演習内容の確認**:
   - 同一ページ内および過去のページで既に出題された演習内容をすべて確認する。
   - 「表面的な違い（要素名や色の違いだけ）」ではなく「本質的な違い（学習ポイント・解法パターンの違い）」があるかを判断する。

3. **本質的重複の判定基準**:
   - 同じイベント・同じ操作パターン・同じ学習ポイントの組み合わせは「本質的に同じ」とみなす。
   - 例: 「click で innerText を変更」と「click で別の innerText を変更」は本質的に同じ。
   - 例: 「mouseenter で色変更」と「mouseenter で別の色変更」も、同一イベント・同一プロパティ変更という点で本質的に類似。

4. **多角的な出題のための観点**:
   - 既出演習と異なる観点を持つ問題を作成すること。以下は有効な差別化の例：
     - **状態管理**: 変数でフラグやカウントを保持し、状態によって挙動を変える（例: クリック後にホバー無効化、カウンターの累積）
     - **複数イベントの組み合わせ**: 単一イベントではなく、2つ以上のイベントを組み合わせた複雑な挙動（例: mouseenter + mouseleave + click の連携）
     - **条件分岐**: if 文を使った条件による動作変更（例: カウントが3回に達したら完了状態にする）
     - **累積的変化**: 一度きりの変更ではなく、操作ごとに累積する動作（例: クリック回数のカウントアップ）
     - **複数要素の連動**: 要素Aの操作が要素Bに影響を与える（ただし既習範囲内で実装可能な場合のみ）

5. **解法の実現可能性確認**:
   - 作成した問題が、既習事項のみで解けることを確認する。
   - 未習事項を使わないと解けない場合や、コードの冗長な繰り返しだけになる場合は、別の観点で問題を再設計する。

6. **問題作成の判断フロー**:
   ```
   問題案を考える
     ↓
   既習事項のみで解ける？
     NO → 別の観点で再設計
     YES ↓
   既出演習と本質的に異なる？
     NO → 別の観点で再設計
     YES ↓
   多角的な学習効果がある？
     NO → 別の観点で再設計
     YES ↓
   問題を作成・追加
   ```

この手順を省略せず、必ず内部で確認・判断してから演習を作成すること。ユーザーに確認を求める前に、自律的に判断を完了させること。

## 学習者向け本文に入れてはいけない表現（必須）

教材の本文（学習者が読むコンテンツ）には、編集者向けの内部方針や判断基準を示す文言を入れないでください。具体例:

- 「戻り値は扱わない」や「ここでは詳細は教えない」といった学習範囲の除外を直接示す文言
- 「編集メモ: テンプレートリテラルは禁止」など編集者向けの注意書き

## 演習問題の記述ルール（曖昧さ排除）

演習問題は誰が見ても何をすべきか一意に分かるように書いてください。以下は必須チェックリストです。

- 開始データを明示する（例: `let fruits = ["りんご","みかん"];`）。
- 手順は番号で上から順に記載し、順序が結果に影響する場合はその旨を明示する。
- 出力方法を指定する（例: `console.log(...)` を使って配列全体を出力、取り出した値を `console.log("取り出されたもの: " + value);` の形式で出力など）。
- 期待される出力の例を必ず書く（可能なら具体的な値や配列の形で 1〜2 行示す）。
- あいまいな表現（例: "都度出力せよ", "適宜出力して確認"）は使わない。代わりに "各手順の直後に指示された出力を行え" のように明確に書く。

形式例:
```md
開始配列:
```js
let fruits = ["りんご", "みかん"];
```

手順:
1. 末尾に "バナナ" を追加し、その直後に配列全体を `console.log(fruits);` で出力せよ。
	- 出力: ["りんご", "みかん", "バナナ"]
```

このルールは教材作成時に常に適用してください。運用上の注意や編集者向けの補足はこの `.github/instructions/global.instructions.md` に集約し、学習者向けの本文には含めないでください。

## 演習モジュールの使用と命名規則（必須）

授業用ドキュメント（Docusaurus の MDX）に掲載する「演習」は、必ず Exercise モジュールを用いて作成してください。Markdown の見出しや箇条書きだけで「演習」を表現することは禁止です（UIの一貫性を保つため）。

- 使用コンポーネント: `@kodai-yamamoto-siw/exercise/client` の `<Exercise>` と `<Solution>` を使用すること（Solution は必須）。`<Solution>` は必ず対応する `<Exercise>` の内部（末尾）に配置し、外側に単独で置かない。
- タイトル指定: 演習のタイトルは必ず `<Exercise>` の `title` 属性に指定すること。MDX の見出し（ハッシュ記号の見出し）で同じタイトルを重複させない。

### 命名・採番ルール

- 基本形: `演習N`（N は 1 からの連番）。
- 配置範囲: MDX ページ内（章・ページ単位）で採番。ページが変われば採番はリセット。
- 発展問題: `演習N-発展` は「演習Nに対する発展的な問題」を扱う演習とする。基本は演習Nの直後に配置する。同ページ内で同番号に発展問題が複数ある場合は `演習N-発展1`, `演習N-発展2` のように末尾に番号を付ける。
- 例: `演習1, 演習2, 演習3, 演習3-発展1, 演習3-発展2, 演習4, 演習4-発展`
- タイトルの補足: 必要に応じて全角かっこで短い説明を付けてよい（例: `演習1（push / pop 基本）`）。長文は避ける。
- 重複禁止: 同一ページ内で同じ採番は不可。途中挿入・削除時は番号を調整して一貫性を保つこと（飛び番や重複を残さない）。

### 記述例（MDX）

```mdx
import Exercise, { Solution } from '@kodai-yamamoto-siw/exercise/client';

<Exercise title="演習1（push / pop 基本）">
	{/* 説明・開始データ・手順・期待出力などをここに書く */}
  <Solution>
	  {/* 解答コード・解説を必ずここに入れる */}
	</Solution>
</Exercise>

<Exercise title="演習2（unshift / shift 基本）">
	{/* 別の基礎問題 */}
  <Solution>
	  {/* 解答コード・解説 */}
	</Solution>
</Exercise>

<Exercise title="演習2-発展1（配列の合計）">
	{/* 発展問題 1 */}
	<Solution>
		{/* 解答コード・解説 */}
	</Solution>
</Exercise>

<Exercise title="演習2-発展2（最大値）">
	{/* 発展問題 2 */}
	<Solution>
		{/* 解答コード・解説 */}
	</Solution>
</Exercise>
```

上記ルールは既存ページにも順次適用し、タイトル表記・採番の不整合（英語ラベル、重複番号、飛び番）を見つけた場合は本ファイルの方針に合わせて修正してください。
